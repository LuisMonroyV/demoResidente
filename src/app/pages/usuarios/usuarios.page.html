<app-header titulo="Usuarios"></app-header>

<ion-content class="ion-padding">
  <ion-card>
    <ion-list #listaNuevos>    
      <ion-list-header>
        <ion-label><h1>Nuevos Usuarios</h1></ion-label>
      </ion-list-header>
      <ion-item-sliding *ngFor="let persona of personasNuevas; let i = index">
        <ion-item lines="none">
          <ion-grid fixed>
            <ion-row  *ngIf="persona.estado === '0-nuevo'">
              <ion-col>
                <ion-item>
                  <ion-label text-wrap>{{i+1}}. {{ persona.nombres }} {{ persona.apellidoPaterno }} - {{ persona.calle }} {{ persona.numero }} ({{ persona.movil }})</ion-label>
                </ion-item>
              </ion-col>
            </ion-row>
            <ion-row  *ngIf="persona.estado === '1-rechazado'">
              <ion-col>
                <ion-label text-wrap color="danger">{{i+1}}. {{ persona.nombres }} {{ persona.apellidoPaterno }} - {{ persona.calle }} {{ persona.numero }} [ {{ persona.obs }} ]</ion-label> 
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-item>
        <ion-item-options side="end">
          <ion-item-option color="primary">
            <ion-icon name="thumbs-up-sharp"
                      slot="icon-only"
                      size="large"
                      (click)="aprobar(i, 'nuevos')"
                      >
            </ion-icon>
          </ion-item-option>
        </ion-item-options>
        <ion-item-options side="start" *ngIf="persona.estado === '0-nuevo'">
          <ion-item-option color="danger">
            <ion-icon name="thumbs-down-sharp"
                      slot="icon-only"
                      size="large"
                      (click)="rechazar(i, 'nuevos')"
                      >
            </ion-icon>
          </ion-item-option>
        </ion-item-options>
      </ion-item-sliding>
      <div *ngIf="personasNuevas.length === 0 && !fbSrvc.cargando"
           class="ion-text-center">
        <img src="assets/images/no-data-8.png" width="50%"/>
      </div>
    </ion-list>
  </ion-card>
  
  <ion-card>
    <ion-list #listaActuales>    
      <ion-list-header>
        <ion-label><h1>Actuales Usuarios</h1></ion-label>
      </ion-list-header>
      <ion-item-sliding *ngFor="let persona of personasRegistradas; let i = index">
        <ion-item lines="none">
          <ion-grid fixed>
            <ion-row  *ngIf="persona.estado === '2-vigente'">
              <ion-col>
                <ion-item>
                  <ion-label *ngIf="persona.esAdmin" color="primary">
                    {{i+1}}. {{ persona.nombres }} {{ persona.apellidoPaterno }}
                  </ion-label>
                  <ion-label *ngIf="!persona.esAdmin">
                    {{i+1}}. {{ persona.nombres }} {{ persona.apellidoPaterno }}
                  </ion-label>
                  <ion-icon name="arrow-back-sharp" 
                            slot="end"
                            *ngIf="!persona.esAdmin"
                            color="danger"
                            >
                  </ion-icon>
                </ion-item>
              </ion-col>
            </ion-row>
            <ion-row  *ngIf="persona.estado === '3-suspendido'">
              <ion-col>
                <ion-item>
                  <ion-label text-wrap color="warning">{{i+1}}. {{ persona.nombres }} {{ persona.apellidoPaterno }} [{{persona.obs}}]</ion-label> 
                  <ion-icon name="arrow-forward-sharp" 
                            slot="end"
                            *ngIf="!persona.esAdmin"
                            color="primary"
                            >
                  </ion-icon>
                </ion-item>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-item>
        <ion-item-options side="end" *ngIf="persona.estado === '2-vigente'">
          <ion-item-option color="danger"
                          *ngIf="!persona.esAdmin"
                          >
            <ion-icon name="thumbs-down-sharp"
                      slot="icon-only"
                      size="large"
                      (click)="rechazar(i, 'actuales')"
                      >
            </ion-icon>
          </ion-item-option>
        </ion-item-options>
        <ion-item-options side="start" *ngIf="persona.estado === '3-suspendido'">
          <ion-item-option color="primary">
            <ion-icon name="thumbs-up-sharp"
                      slot="icon-only"
                      size="large"
                      (click)="aprobar(i, 'actuales')"
                      >
            </ion-icon>
          </ion-item-option>
        </ion-item-options>
      </ion-item-sliding>
      <div *ngIf="personasRegistradas.length === 0 && !fbSrvc.cargando"
           class="ion-text-center">
        <img src="assets/images/no-data-8.png" width="50%"/>
      </div>
    </ion-list>    
  </ion-card>

</ion-content>
